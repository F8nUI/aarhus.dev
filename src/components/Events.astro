---
import { getEvents } from '@lib/event'
import EventList from './EventList'

interface Props {
  language?: string
}

const { language } = Astro.props
const events = (await getEvents()).filter((e) => {
  if (!language) {
    return e
  }

  return e.language == language
})
---

<EventList client:load events={events} filteringByLanguage={language != undefined} />
